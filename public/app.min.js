"use strict";const $searchResultsSmall=$("#search-sm"),$searchResultsLarge=$("#search-md"),$searchFieldSmall=$("#search-input-sm"),$searchFieldLarge=$("#search-input-md"),$carouselActions=$('[id^="carousel-actions"]'),$productActions=$('[id^="product-actions"]'),$productCards=$(".card"),$blogNews=$('[id^="blog-news"]'),$twitterPosts=$('[id^="post"]'),$flickers=$("#flicker-widget").children("div").children("a"),$socialMedia=$("#social-media").children("a"),$newsletterForm=$("#newsletter").parent("div").parent("form"),$loginForm=$("#email").parent("div").parent("form"),$listSwitch=$("#list"),$gridSwitch=$("#grid");function showActionBtns(){$(window).width()>=768&&($productActions.hide(),$productCards.on("mouseenter",function(){$(this).find("[id^='product-actions']").show("slow")}).on("mouseleave",function(){$(this).find("[id^='product-actions']").slideUp("slow")}))}function updateNews(){$.getJSON("./data/news.json",function(t){const e=getRandom(5),s=[e,e<t.length-1?e+1:0];$.each($blogNews,function(e,o){$(o).html("").append("<div class='bg-info text-white py-2 px-3 text-center'><p class='h11 font-weight-bold m-0 text-uppercase'>"+t[s[e]].month+"</p><p class='h9 font-weight-bold m-0'>"+t[s[e]].day+"</p></div><div class='col'><h4 class='h8 font-weight-bold mb-0'>"+t[s[e]].newsTitle+"</h4><p class='h10'>"+t[s[e]].content+"</p></div>")})})}function updatePosts(){$.getJSON("./data/posts.json",function(t){const e=getRandom(5),s=[e,e<t.length-1?e+1:0];$.each($twitterPosts,function(e,o){$(o).html("").append("<p class='mb-0'><a href='#' class='text-info'>@"+t[s[e]].user+" </a>"+t[s[e]].post+"<a href='#' class='text-info'>"+(0===t[s[e]].shoutouts.length?"":" @"+t[s[e]].shoutouts)+"</a></p><span><small><em>"+getDays(t[s[e]].date)+" days ago</em></small></span>")})})}function getRandom(t){return Math.floor(Math.random()*Math.floor(t))}function getDays(t){const e=Date.now();return Math.round((e-Date.parse(t))/864e5)}function setHover(t){t.hover(function(){$(this).toggleClass(["text-secondary","text-info"])},function(){$(this).toggleClass(["text-secondary","text-info"])})}function setSearchItems(t,e,s=""){t.keyup(function(){e.html("").show();const o=t.val(),n=new RegExp(o,"i");$.getJSON("./data/data.json",function(o){$.each(o,function(o,a){-1!==a.result.search(n)&&(e.append('<a href="#" class="list-group-item list-group-item-action border-0'+s+'">'+a.result+"</a>"),e.find("a").click(function(s){t.val(s.target.textContent),e.slideUp("slow")}))})})})}function switchLayout(){const t=["p-1","rounded","px-2","position-absolute","nowrap"];$("[id^='products']").children("div:nth-child(n+2)").toggleClass("flex-column"),$productCards.toggleClass(["card-custom","col-md","mr-md-3"]),$productCards.children("img").toggleClass("card-img-top"),$productCards.children("div").toggleClass(["card-body-custom","pl-3","border-top","mx-0","py-0","d-flex","flex-column","justify-content-center"]),$productCards.children("div").children("span").not(".out-of-stock").toggleClass([...t,"py-4"]),$productCards.children("div").children("span").filter(".out-of-stock").toggleClass([...t,"py-3"]),$productCards.children("div").children("p").toggleClass("d-md-block")}$(window).width()<768&&(switchLayout(),$productCards.off("mouseenter mouseleave"),$productActions.css("display","")),$listSwitch.on("click",function(){$productCards.hasClass("card-custom")||(switchLayout(),$("[id^='products']").children("div:nth-child(n+2)").children("div:last-child").removeClass("mr-md-3"),$productCards.off("mouseenter mouseleave"),$productActions.css("display",""))}),$gridSwitch.on("click",function(){$productCards.hasClass("card-custom")&&(switchLayout(),showActionBtns())}),$(".navbar a").hover(function(){$(this).find("span").toggleClass(["badge-secondary","badge-info text-white"])},function(){$(this).find("span").toggleClass(["badge-info text-white","badge-secondary"])}),setHover($carouselActions.find("a")),setHover($productActions.find("a")),setHover($socialMedia),showActionBtns(),setSearchItems($searchFieldLarge,$searchResultsLarge," bg-secondary text-light rounded-0"),setSearchItems($searchFieldSmall,$searchResultsSmall),updateNews(),setInterval(updateNews,5e3),updatePosts(),setInterval(updatePosts,5e3),$flickers.on("click",function(t){t.preventDefault();const e=$(this).children("img").attr("src"),s=$(this).children("img").attr("alt");$("#flicker").find(".modal-body").children("img").attr("src",e).attr("alt",s),$("#flicker").modal("show")}),$(".modal-footer").find('[type="submit"]').on("click",function(t){!1===$loginForm[0].checkValidity()&&(t.preventDefault(),t.stopPropagation()),$loginForm.addClass("was-validated")}),$("#newsletter").keyup(function(){!1===$newsletterForm[0].checkValidity()&&(event.preventDefault(),event.stopPropagation()),$newsletterForm.addClass("was-validated")}),$newsletterForm.find('[type="submit"]').on("click",function(t){!1===$newsletterForm[0].checkValidity()&&(t.preventDefault(),t.stopPropagation()),$newsletterForm.addClass("was-validated")});